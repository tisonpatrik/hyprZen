#!/bin/bash

# Default temperature values
ON_TEMP=4000
OFF_TEMP=6500

# Query the current temperature
CURRENT_TEMP=$(hyprctl hyprsunset temperature 2>/dev/null | grep -oE '[0-9]+')

if [[ "$CURRENT_TEMP" == "$OFF_TEMP" ]]; then
  hyprctl hyprsunset temperature $ON_TEMP
  notify-send "  Nightlight On"
  if grep -q "custom/nightlight" ~/.config/waybar/config.jsonc; then  
    omarchy-restart-waybar # restart waybar in case user has waybar module for hyprsunset
  fi
else
  hyprctl hyprsunset temperature $OFF_TEMP
  notify-send "   Nightlight Off"
  if grep -q "custom/nightlight" ~/.config/waybar/config.jsonc; then  
    omarchy-restart-waybar # restart waybar in case user has waybar module for hyprsunset
  fi
fi 